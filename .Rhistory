install.packages("devtools")
where git
df <- read.csv("./modelingData.csv",  header=T, sep=",", strip.white=T)
df <- read.csv("./Paul/modelingData.csv",  header=T, sep=",", strip.white=T)
df <- read.csv("/modelingData.csv",  header=T, sep=",", strip.white=T)
getwd()
setwd("C:/Users/Pablo/Desktop/KG6372")
df <- read.csv("modelingData.csv",  header=T, sep=",", strip.white=T)
df <- read.csv("../modelingData.csv",  header=T, sep=",", strip.white=T)
getwd()
df <- read.csv("./modelingData.csv",  header=T, sep=",", strip.white=T)
df <- read.csv("./modelingData.csv",  header=T, sep=",", strip.white=T)
df <- read.csv("./modelingData.csv",  header=T, sep=",", strip.white=T)
library(pacman)
p_load(lmtest
,dplyr
,Hmisc
,skimr
,tidyr
,na.tools
,tidyverse
,olsrr
,caret
,multcomp
,ggthemes)
df <- df %>% mutate_if(is.integer, as.numeric) %>%
mutate_if(is.character, as.factor) %>% data.frame()
hist(asin(sqrt(df$preschool_quota/100)), breaks = 100)
hist(sqrt(df$preschool_quota), breaks = 100)
hist(log(df$preschool_quota), breaks=100)
hist(df$preschool_quota, breaks=100)
hist(sqrt(df$preschool_quota), breaks = 100)
hist(df$preschool_quota, breaks=100)
hist(log(df$preschool_quota), breaks=100) #log does not appear needed
hist(sqrt(df$preschool_quota), breaks = 100)
hist((sqrt(df$preschool_quota))^2, breaks = 100) #the square root transformation looks better than log or non-transformed
hist(df$preschool_quota, breaks=100)
hist(sqrt(df$preschool_quota), breaks = 100) #the square root transformation looks better than log or non-transformed
hist(df$preschool_quota, breaks=100)
hist(log(df$preschool_quota), breaks=100) #log does not appear needed
hist(sqrt(df$preschool_quota), breaks = 100) #the square root transformation looks better than log or non-transformed
hist((sqrt(df$preschool_quota))^2, breaks = 100) #the square root transformation looks better than log or non-transformed
hist(df$preschool_quota, breaks=100)
hist(sqrt(df$preschool_quota), breaks = 100) #the square root transformation looks better than log or non-transformed
df$preschool_quota <- sqrt(df$preschool_quota)
hist(log(df$kitch_sq+1), breaks=50)
source('C:/Users/Pablo/Desktop/KG6372/DataTransforms-Paul.R', echo=TRUE)
hist(log(df$kitch_sq), breaks=50)
hist(log(df$kitch_sq), breaks=50)
hist(log(df$kitch_sq+1), breaks=50)
hist(log(df$kitch_sq), breaks=50)
hist(sqrt(df$kitch_sq), breaks=50)
hist(df$kitch_sq, breaks=50)
hist(log(df$kitch_sq), breaks=50)
hist(log(df$kitch_sq+1), breaks=50)
hist(log(df$kitch_sq+2), breaks=50)
hist(log(df$kitch_sq+4), breaks=50)
hist(log(df$kitch_sq+1), breaks=50)
hist(log(df$kitch_sq+11), breaks=50)
hist(log(df$kitch_sq+21), breaks=50)
hist(log(df$kitch_sq+50), breaks=50)
hist(exp(df$kitch_sq), breaks=50)
hist(log(df$kitch_sq+50), breaks=50)
hist(log(df$kitch_sq+40), breaks=50)
hist(logb(df$kitch_sq, exp(3)), breaks=50)
hist(logb(df$kitch_sq, exp(7)), breaks=50)
hist(logb(df$kitch_sq, exp(2)), breaks=50)
hist(logb(df$kitch_sq, exp(200)), breaks=50)
hist(logb(df$kitch_sq, exp(20)), breaks=50)
hist(logb(df$kitch_sq, exp(10)), breaks=50)
hist(logb(df$kitch_sq, exp(1)), breaks=50)
hist(logb(df$kitch_sq, exp(3)), breaks=50)
hist(logb(df$kitch_sq+1, exp(3)), breaks=50)
hist(logb(df$kitch_sq+1, exp(4)), breaks=50)
hist(logb(df$kitch_sq+1, exp(4)), breaks=100)
hist(logb(df$kitch_sq+1, exp(6)), breaks=100)
hist(logb(df$kitch_sq+1, exp(2)), breaks=100)
hist(logb(df$kitch_sq+1, exp(1)), breaks=100)
hist(logb(df$kitch_sq+1, exp(3)), breaks=100)
df[which(is.na(df$kitch_sq)),10] <- df[which(is.na(df$kitch_sq)),3]*(2*kitchsqMultiplier)
hist(logb(df$kitch_sq+1, exp(3)), breaks=100)
df2.kitchsq <- df[which(!is.na(df$kitch_sq)),]
kitch.Mean <- data.frame(df2.kitchsq$kitch_sq/df2.kitchsq$full_sq)
colnames(kitch.Mean) <- "percentofFull"
kitchsqMultiplier <- mean(head(kitch.Mean$percentofFull,7000)) #roughly 7k NAs
df[which(is.na(df$kitch_sq)),10] <- df[which(is.na(df$kitch_sq)),3]*kitchsqMultiplier
hist(logb(df$kitch_sq+1, exp(3)), breaks=100)
hist(log(df$kitch_sq), breaks=50)
hist(log(df$kitch_sq+1), breaks=50)
hist(logb(df$kitch_sq+1, exp(3)), breaks=100)
hist(logb(df$kitch_sq+1, exp(2)), breaks=100)
hist(sqrt(df$kitch_sq))
hist(sqrt(df$kitch_sq), breaks=100)
hist(sqrt(df$kitch_sq), breaks=50)
hist(sqrt(df$kitch_sq^4), breaks=50)
hist(sqrt(df$kitch_sq^1/2), breaks=50)
hist(sqrt(df$kitch_sq^1/3), breaks=50)
hist(sqrt(df$kitch_sq^1/4), breaks=50)
hist(sqrt(df$kitch_sq^1/3), breaks=50)
hist(log(sqrt(df$kitch_sq^1/3)), breaks=50)
hist(sqrt(df$kitch_sq^1/3), breaks=50)
hist(sqrt(df$kitch_sq^1/3), breaks=100)
hist(sqrt(df$kitch_sq^1/8), breaks=100)
hist(sqrt(df$kitch_sq^1/8), breaks=50)
hist(sqrt(df$kitch_sq^1/8), breaks=100)
hist(sqrt(df$kitch_sq^1/8), breaks=50)
hist(sqrt(df$kitch_sq), breaks=50)
hist(sqrt(df$kitch_sq), breaks=100)
hist(sqrt(df$kitch_sq), breaks=200)
hist(sqrt(df$kitch_sq^1/8), breaks=200)
hist(sqrt(df$kitch_sq^1/10), breaks=200)
hist(sqrt(df$kitch_sq^1/20), breaks=200)
hist(sqrt(df$kitch_sq^1/10), breaks=50)
hist(sqrt(df$kitch_sq), breaks=50)
hist(sqrt(df$kitch_sq^1/10), breaks=50)
hist(sqrt(df$kitch_sq^1/3), breaks=50)
hist(sqrt(df$kitch_sq^1/2), breaks=50)
hist(log(df$kitch_sq+1), breaks=50)
hist(df$kitch_sq, breaks=50)
hist(df$kitch_sq, breaks=100)
hist(df$kitch_sq, breaks=1000)
hist(df$kitch_sq, breaks=1000)
hist(log(df$kitch_sq+1), breaks=50)
hist(logb(df$kitch_sq+1, exp(2)), breaks=50)
hist(sqrt(df$kitch_sq^1/3), breaks=50)
hist(sqrt(df$kitch_sq), breaks=50)
hist(sqrt(df$kitch_sq^1/3), breaks=50)
hist(sqrt(df$kitch_sq^1/3), breaks=100)
hist(sqrt(df$kitch_sq^1/3), breaks=1000)
hist(sqrt(df$kitch_sq^1/3), breaks=10000)
hist(sqrt(df$kitch_sq^1/3), breaks=500)
hist(sqrt(df$kitch_sq^1/6), breaks=500)
hist(sqrt(df$kitch_sq^1/16), breaks=500)
hist(sqrt(df$kitch_sq^1/16+1), breaks=500)
hist(sqrt(df$kitch_sq^1/5+1), breaks=500)
hist(sqrt(df$kitch_sq^1/16+1), breaks=500)
hist(sqrt(df$kitch_sq^1/16+1), breaks=50)
hist(sqrt(df$kitch_sq^1/16+1), breaks=100)
hist(sqrt(df$kitch_sq^1/16+1), breaks=1000)
hist(df$kitch_sq, breaks=1000)
hist(log(df$kitch_sq+1), breaks=50)
hist(log(df$kitch_sq+1), breaks=500)
hist(log(df$kitch_sq+1), breaks=5000)
hist(log(df$kitch_sq+1), breaks=1000)
hist(sqrt(df$kitch_sq), breaks=50)
hist(sqrt(df$kitch_sq), breaks=100)
hist(sqrt(df$kitch_sq), breaks=1000)
hist(sqrt(df$kitch_sq), breaks=10000)
hist(sqrt(df$kitch_sq^1/16+1), breaks=1000)
hist(sqrt(df$kitch_sq^1/16+1), breaks=10000)
hist(sqrt(df$kitch_sq^1/16+1), breaks=1000)
hist(sqrt((df$kitch_sq^(1/16))+1), breaks=1000)
df$kitch_sq <- sqrt(df$kitch_sq^17/16)
df2.kitchsq <- df[which(!is.na(df$kitch_sq)),]
kitch.Mean <- data.frame(df2.kitchsq$kitch_sq/df2.kitchsq$full_sq)
colnames(kitch.Mean) <- "percentofFull"
kitchsqMultiplier <- mean(head(kitch.Mean$percentofFull,7000)) #roughly 7k NAs
# below is a logical transform to impute the NA values, but will still need transformation as an entire predictor
df[which(is.na(df$kitch_sq)),10] <- df[which(is.na(df$kitch_sq)),3]*kitchsqMultiplier
hist(sqrt((df$kitch_sq^(17/16))), breaks=1000)
hist(df$kitch_sq, breaks=1000)
hist(sqrt((df$kitch_sq^(1/16))+1), breaks=1000)
hist(sqrt(df$kitch_sq^1/16+1), breaks=1000)
df <- read.csv("./modelingData.csv",  header=T, sep=",", strip.white=T)
df2.kitchsq <- df[which(!is.na(df$kitch_sq)),]
kitch.Mean <- data.frame(df2.kitchsq$kitch_sq/df2.kitchsq$full_sq)
colnames(kitch.Mean) <- "percentofFull"
kitchsqMultiplier <- mean(head(kitch.Mean$percentofFull,7000)) #roughly 7k NAs
# below is a logical transform to impute the NA values, but will still need transformation as an entire predictor
df[which(is.na(df$kitch_sq)),10] <- df[which(is.na(df$kitch_sq)),3]*kitchsqMultiplier
hist(sqrt(df$kitch_sq^1/16+1), breaks=1000)
hist(sqrt((df$kitch_sq^1/16)+1), breaks=1000)
hist(sqrt(df$kitch_sq^(1/16)+1), breaks=1000)
hist(sqrt(df$kitch_sq^(1/16+1), breaks=1000)
hist(sqrt(df$kitch_sq^1/16+1), breaks=1000)
hist(sqrt(df$kitch_sq^1/16+1), breaks=1000)
hist(sqrt(df$kitch_sq^(1/16+1)), breaks=1000)
hist(sqrt(df$kitch_sq^(1/16)+1)), breaks=1000)
hist(sqrt(df$kitch_sq^(1/16)+1), breaks=1000)
hist(sqrt(df$kitch_sq^1/16+1), breaks=1000)
df$kitch_sq <- sqrt(df$kitch_sq^1/16+1)
df$floor <- df$floor %>% replace_na(0) # Replace NA in Floor (this is for apts.; not all bldgs are apts.)
hist(df$floor,breaks=100)
hist(log(df$floor),breaks=100)
hist(sqrt(df$floor),breaks=100)
hist(df$floor,breaks=100)
hist(df$floor,breaks=100)
hist(sqrt(df$floor),breaks=100)
hist(logdf$floor),breaks=100)
hist(log(df$floor),breaks=100)
hist(sqrt(df$floor),breaks=100)
hist(df$floor,breaks=100)
hist(sqrt(df$floor),breaks=100)
hist(df$floor,breaks=100)
hist(df$floor,breaks=1000)
hist(sqrt(df$floor),breaks=1000)
hist(df$floor,breaks=100)
hist(sqrt(df$floor),breaks=100)
hist(df$floor,breaks=100)
hist(df$floor,breaks=500)
hist(sqrt(df$floor),breaks=500)
hist(df$floor,breaks=500)
hist(sqrt(df$floor),breaks=500)
hist(df$floor,breaks=500)
df$hospital_beds_raion <- df$hospital_beds_raion %>% replace_na(0) # Replace NA in hospital beds with zero
hist(df$hospital_beds_raion,breaks = 100)
hist(sqrt(df$hospital_beds_raion),breaks = 100)
hist(log(df$hospital_beds_raion),breaks = 100)
hist(logb(df$hospital_beds_raion, exp(2)),breaks = 100)
hist(logb(df$hospital_beds_raion, exp(20)),breaks = 100)
hist(logb(df$hospital_beds_raion, exp(10)),breaks = 100)
hist(logb(df$hospital_beds_raion, exp(8)),breaks = 100)
hist(logb(df$hospital_beds_raion, exp(2)),breaks = 100)
hist(logb(df$hospital_beds_raion, exp(.5)),breaks = 100)
hist(logb(df$hospital_beds_raion, exp(5)),breaks = 100)
hist(logb(df$hospital_beds_raion, exp(8)),breaks = 100)
hist(logb(df$hospital_beds_raion, exp(3)),breaks = 100)
hist(logb(df$hospital_beds_raion, exp(2)),breaks = 100)
hist(logb(df$hospital_beds_raion, exp(3)),breaks = 1000)
hist(logb(df$hospital_beds_raion, exp(3)),breaks = 10000)
hist(logb(df$hospital_beds_raion, exp(3)),breaks = 500)
hist(logb(df$hospital_beds_raion, exp(3)),breaks = 50)
df$hospital_beds_raion <- logb(df$hospital_beds_raion, exp(3))
df2.buildYr <- df[which(!is.na(df$build_year)),]
buildYr.Mean <- data.frame(df2.buildYr$build_year/df2.buildYr$kremlin_km)
colnames(buildYr.Mean) <- "percentofKrem"
na_count <- sapply(df, function(cnt) sum(length(which(is.na(cnt)))))
na_count
buildYrMultiplier <- mean(head(buildYr.Mean$percentofKrem,11000))
df[which(is.na(df$build_year)),10] <- df[which(is.na(df$build_year)),3]*buildYrMultiplier
